{
  "id": "03-search-2d-matrix",
  "title": "Search a 2D Matrix",
  "description": "Search for a target in a sorted 2D matrix using binary search.",
  "type": "coding",
  "language": "python",
  "difficulty": "intermediate",
  "starterCode": "def search_matrix(matrix: list[list[int]], target: int) -> bool:\n    \"\"\"\n    Search for target in a sorted 2D matrix.\n    \n    Matrix properties:\n    - Each row is sorted in ascending order\n    - First element of each row > last element of previous row\n    \n    Args:\n        matrix: m x n integer matrix\n        target: Value to search for\n        \n    Returns:\n        True if target exists, False otherwise\n        \n    Example:\n        Input: matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3\n        Output: True\n    \"\"\"\n    # Your code here\n    pass",
  "solutionCode": "def search_matrix(matrix: list[list[int]], target: int) -> bool:\n    if not matrix or not matrix[0]:\n        return False\n    \n    rows, cols = len(matrix), len(matrix[0])\n    left, right = 0, rows * cols - 1\n    \n    while left <= right:\n        mid = left + (right - left) // 2\n        # Convert 1D index to 2D coordinates\n        row = mid // cols\n        col = mid % cols\n        value = matrix[row][col]\n        \n        if value == target:\n            return True\n        elif value < target:\n            left = mid + 1\n        else:\n            right = mid - 1\n    \n    return False",
  "testCases": [
    {
      "input": {"matrix": [[1, 3, 5, 7], [10, 11, 16, 20], [23, 30, 34, 60]], "target": 3},
      "expected": true,
      "description": "Target in first row"
    },
    {
      "input": {"matrix": [[1, 3, 5, 7], [10, 11, 16, 20], [23, 30, 34, 60]], "target": 13},
      "expected": false,
      "description": "Target not in matrix"
    },
    {
      "input": {"matrix": [[1]], "target": 1},
      "expected": true,
      "description": "Single element, found"
    },
    {
      "input": {"matrix": [[1]], "target": 2},
      "expected": false,
      "description": "Single element, not found"
    },
    {
      "input": {"matrix": [[1, 3], [10, 11], [23, 30]], "target": 30},
      "expected": true,
      "description": "Target at last position"
    }
  ],
  "hints": [
    "Treat the 2D matrix as a 1D sorted array",
    "For a 1D index mid, row = mid // cols, col = mid % cols",
    "Use standard binary search on indices 0 to rows*cols-1",
    "Convert 1D index to 2D coordinates when accessing elements"
  ],
  "explanation": "Since each row is sorted and the first element of each row is greater than the last element of the previous row, we can treat the matrix as a single sorted array. Use binary search on indices 0 to m*n-1. For any index mid, convert to 2D: row = mid // cols, col = mid % cols. This gives O(log(m*n)) time, O(1) space."
}
